import{d as u,r as c,b as p,e as i,u as m,c as f,a as s,t as l,h as q,w as b,g as w,o as g,_ as k}from"./index-D4db0O7_.js";const v=u({name:"EditFaqView",setup(){const e=m(),t=c({id:"",category:"",question:"",answer:""});return p(async()=>{try{const o=e.params.id,n=(await i.get("https://members-backend.alearn13994229.workers.dev/api/Faq")).data;console.log(o),console.log(n);const r=n.find(a=>a.id===parseInt(o));r&&(t.value=r)}catch(o){console.error("獲取FAQ資料失敗:",o)}}),{faqItem:t}},methods:{parseAnswer(e){return console.log(e),e.replace(/\\n/g,`
`)},async updateFaq(){try{await i.post(`https://members-backend.alearn13994229.workers.dev/update/faq/${this.faqItem.id}`,{content:this.parseAnswer(this.faqItem.answer)}),alert("更新成功"),this.goBack()}catch(e){console.error("更新FAQ失敗:",e),alert("更新失敗")}},goBack(){this.$router.push("/faq")}}}),h={class:"faq-container"},y={class:"ui container"},I={class:"ui form"},F={class:"field"},B={class:"field"},$={class:"field"};function V(e,t,o,d,n,r){return g(),f("div",h,[s("div",y,[s("div",I,[s("div",F,[s("label",null,"類別："+l(e.faqItem.category),1)]),s("div",B,[t[3]||(t[3]=s("label",null,"問題：",-1)),q(l(e.faqItem.question),1)]),s("div",$,[t[4]||(t[4]=s("label",null,"回答",-1)),b(s("textarea",{"onUpdate:modelValue":t[0]||(t[0]=a=>e.faqItem.answer=a),rows:"20"},null,512),[[w,e.faqItem.answer]])]),s("button",{class:"ui button primary",type:"button",onClick:t[1]||(t[1]=(...a)=>e.updateFaq&&e.updateFaq(...a))},"儲存"),s("button",{class:"ui button",onClick:t[2]||(t[2]=(...a)=>e.goBack&&e.goBack(...a))},"返回")])])])}const C=k(v,[["render",V],["__scopeId","data-v-e1ebc1b1"]]);export{C as default};
