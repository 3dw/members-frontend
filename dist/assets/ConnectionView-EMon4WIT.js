import{d as g,r as b,T as y,V as k,o as w,a as x,aa as V,i,e as c,f as s,F as C,h as L,j as R,ab as S,t as u,g as f,_ as U}from"./index-CD1YkJzg.js";const M={class:"connection-view"},j={class:"circle-container"},B={class:"seat-number"},$={key:0,class:"user-info"},z=["src"],E={class:"user-name"},F={class:"stats"},I={class:"stat-item"},N={class:"stat-number"},O=g({__name:"ConnectionView",setup(P){const r=b({}),v=a=>{const d=(()=>{const n=window.innerWidth;return n>1200?350:n>900?300:n>700?250:n>500?200:n>350?150:130})(),_=(a-1)*(360/50)*(Math.PI/180),h=d*Math.cos(_),p=d*Math.sin(_);return{transform:`translate(${h}px, ${p}px)`}},m=y(k,"users");let l=null;w(()=>{l=x(m,a=>{const t=a.val();t&&(r.value=t,console.log("Users data updated:",t))},a=>{console.error("Error fetching users:",a)})}),V(()=>{l&&l()});const o=a=>r.value&&Object.values(r.value)[a-1]||null;return(a,t)=>(i(),c("div",M,[t[1]||(t[1]=s("div",{class:"header"},[s("h1",{class:"title"},"接力顯示板"),s("p",{class:"subtitle"},"即時顯示成員已認證狀態")],-1)),s("div",j,[(i(),c(C,null,L(50,e=>s("div",{class:R(["seat",{occupied:o(e)}]),key:e,style:S(v(e))},[s("div",B,u(e),1),o(e)?(i(),c("div",$,[o(e).photoURL?(i(),c("img",{key:0,class:"user-avatar",src:o(e).photoURL},null,8,z)):f("",!0),s("div",E,u(o(e).name||"訪客"),1)])):f("",!0)],6)),64))]),s("div",F,[s("div",I,[s("div",N,u(Object.keys(r.value).length),1),t[0]||(t[0]=s("div",{class:"stat-label"},"認證成員",-1))])])]))}}),T=U(O,[["__scopeId","data-v-2c3525fd"]]);export{T as default};
