import{m as p}from"./mix-O88PJOmL.js";import{i as n,e as o,Q as g,y as m,f as i,k as l,t as r,g as t,a5 as d,j as y,z as k,_ as f,d as v}from"./index-CEpvWpua.js";const L={class:"hello"},M={class:"image"},T={class:"ui header"},H=["src"],b={key:0},w=["innerHTML"],S={key:1},$={key:2},C={key:3},c={class:"content"},A={class:"description gray"},B=["innerHTML"],D=["innerHTML"],q=["innerHTML"],E=["innerHTML"],N=["innerHTML"],U={key:0,class:"content"},G={key:0,class:"description"},I={key:1,class:"description"},R={key:2,class:"description"},V={class:"content"},W={key:0},j=["src"],z={key:1},F=["src"],O={class:"content"},Q={key:0,class:"description"},J=["innerHTML"],K={key:1,class:"description"},P=["innerHTML"],X=["to"],Y={class:"image"},Z={class:"ui header"},_=["src"],x={key:0},ee=["innerHTML"],se={key:1},ie={key:2},ne={key:3},oe={class:"content"},te={class:"description gray"},le=["innerHTML"],re=["innerHTML"],he=["innerHTML"],de=["innerHTML"],ae=["innerHTML"],ue={key:0,class:"content"},pe={key:0,class:"description"},ge={key:1,class:"description"},me={key:2,class:"description"},ye={class:"content"},ke={key:0},fe=["src"],ve={key:1},Le=["src"],Me={class:"content"},Te={key:0,class:"description"},He=["innerHTML"],be={key:1,class:"description"},we=["innerHTML"];function Se(e,s,a,Ce,ce,Ae){const u=k("router-link");return n(),o("div",L,[e.clickable?(n(),g(u,{key:0,to:"/flag/"+(e.h.uid||e.h.idx)},{default:m(()=>[i("div",M,[i("h3",T,[i("img",{class:"main",src:e.getIcon(e.h),alt:"^_^"},null,8,H),l(r(e.h.name),1),e.h.learner_birth?(n(),o("span",b,[s[7]||(s[7]=l("-約")),i("span",{innerHTML:e.toAge(e.h.learner_birth)},null,8,w),s[8]||(s[8]=l("歲"))])):t("",!0),e.h.child_birth?(n(),o("span",S,"(孩子約")):t("",!0),e.h.child_birth2?(n(),o("span",$,r(e.toAge(e.h.child_birth2))+" ~",1)):t("",!0),e.h.child_birth?(n(),o("span",C,r(e.toAge(e.h.child_birth))+" 歲)",1)):t("",!0)])]),i("div",c,[i("p",A,[i("span",{innerHTML:e.highlight(e.h.address,e.mySearch)},null,8,B),l("   - "+r(e.countDateDiff(e.h.lastUpdate))+"已更新",1)]),e.h.learner_habit?(n(),o("p",{key:0,class:"description",innerHTML:"興趣："+e.highlight(e.h.learner_habit,e.mySearch)},null,8,D)):t("",!0),e.h.share?(n(),o("p",{key:1,class:"description",innerHTML:"可分享："+e.highlight(e.h.share,e.mySearch)},null,8,q)):t("",!0),e.h.ask?(n(),o("p",{key:2,class:"description",innerHTML:"想尋找："+e.highlight(e.h.ask,e.mySearch)},null,8,E)):t("",!0),e.h.price?(n(),o("p",{key:3,class:"description",innerHTML:"可支付："+e.highlight(e.h.price,e.mySearch)},null,8,N)):t("",!0)]),e.h.connect_me&&e.full?(n(),o("div",U,[s[10]||(s[10]=i("div",{class:"ui divider"},null,-1)),e.isEmail(e.h.connect_me)?(n(),o("p",G,[s[9]||(s[9]=l("點擊寄信：")),i("a",{onClick:s[0]||(s[0]=d(h=>e.gotoMail(e.h.connect_me),["stop"]))},r(e.h.connect_me),1)])):(n(),o("p",I,"聯絡方式： "+r(e.h.connect_me),1)),e.h.freetime?(n(),o("p",R,"方便時間： "+r(e.h.freetime),1)):t("",!0)])):t("",!0),i("div",V,[s[15]||(s[15]=i("div",{class:"ui divider"},null,-1)),e.h.site?(n(),o("p",W,[i("a",{onClick:s[1]||(s[1]=d(h=>e.goto(e.h.site),["stop"]))},[s[11]||(s[11]=l("個人網站：")),i("img",{src:"https://www.google.com/s2/favicons?domain="+e.h.site,title:"個人網址",alt:"個人網址"},null,8,j),s[12]||(s[12]=i("i",{class:"right arrow icon"},null,-1))])])):t("",!0),e.h.site2?(n(),o("p",z,[i("a",{onClick:s[2]||(s[2]=d(h=>e.goto(e.h.site2),["stop"]))},[s[13]||(s[13]=l("社群網站：")),i("img",{src:"https://www.google.com/s2/favicons?domain="+e.h.site2,title:"社群網址",alt:"個人網址"},null,8,F),s[14]||(s[14]=i("i",{class:"right arrow icon"},null,-1))])])):t("",!0)]),i("div",O,[s[18]||(s[18]=i("div",{class:"ui divider"},null,-1)),e.full?(n(),o("p",K,[i("span",{class:"text",innerHTML:e.highlight(e.h.note,e.mySearch)},null,8,P),s[17]||(s[17]=i("br",null,null,-1))])):(n(),o("p",Q,[i("span",{class:"text",innerHTML:e.highlight(e.part(e.h.note),e.mySearch)+"..."},null,8,J),s[16]||(s[16]=i("br",null,null,-1))]))])]),_:1},8,["to"])):(n(),o("div",{key:1,to:"/flag/"+(e.h.uid||e.h.idx)},[i("div",Y,[i("h3",Z,[i("img",{class:"main",src:e.getIcon(e.h),alt:"^_^"},null,8,_),l(r(e.h.name),1),e.h.learner_birth?(n(),o("span",x,[s[19]||(s[19]=l("-")),i("span",{innerHTML:e.toAge(e.h.learner_birth)},null,8,ee),s[20]||(s[20]=l("歲"))])):t("",!0),e.h.child_birth?(n(),o("span",se,"(孩子約")):t("",!0),e.h.child_birth2?(n(),o("span",ie,r(e.toAge(e.h.child_birth2))+" ~",1)):t("",!0),e.h.child_birth?(n(),o("span",ne,r(e.toAge(e.h.child_birth))+" 歲)",1)):t("",!0)])]),i("div",oe,[i("p",te,[i("span",{innerHTML:e.highlight(e.h.address,e.mySearch)},null,8,le),l("   - "+r(e.countDateDiff(e.h.lastUpdate))+"已更新",1)]),e.h.learner_habit?(n(),o("p",{key:0,class:"description",innerHTML:"興趣："+e.highlight(e.h.learner_habit,e.mySearch)},null,8,re)):t("",!0),e.h.share?(n(),o("p",{key:1,class:"description",innerHTML:"可分享："+e.highlight(e.h.share,e.mySearch)},null,8,he)):t("",!0),e.h.ask?(n(),o("p",{key:2,class:"description",innerHTML:"想尋找："+e.highlight(e.h.ask,e.mySearch)},null,8,de)):t("",!0),e.h.price?(n(),o("p",{key:3,class:"description",innerHTML:"可支付："+e.highlight(e.h.price,e.mySearch)},null,8,ae)):t("",!0)]),e.h.connect_me&&e.full?(n(),o("div",ue,[s[22]||(s[22]=i("div",{class:"ui divider"},null,-1)),e.isEmail(e.h.connect_me)?(n(),o("p",pe,[s[21]||(s[21]=l("點擊寄信：")),i("a",{onClick:s[3]||(s[3]=d(h=>e.gotoMail(e.h.connect_me),["stop"]))},r(e.h.connect_me),1)])):(n(),o("p",ge,"聯絡方式： "+r(e.h.connect_me),1)),e.h.freetime?(n(),o("p",me,"方便時間： "+r(e.h.freetime),1)):t("",!0)])):t("",!0),i("div",ye,[s[27]||(s[27]=i("div",{class:"ui divider"},null,-1)),e.h.site?(n(),o("p",ke,[i("a",{onClick:s[4]||(s[4]=d(h=>e.goto(e.h.site),["stop"]))},[s[23]||(s[23]=l("個人網站：")),i("img",{src:"https://www.google.com/s2/favicons?domain="+e.h.site,title:"個人網址",alt:"個人網址"},null,8,fe),s[24]||(s[24]=i("i",{class:"right arrow icon"},null,-1))])])):t("",!0),e.h.site2?(n(),o("p",ve,[i("a",{onClick:s[5]||(s[5]=d(h=>e.goto(e.h.site2),["stop"]))},[s[25]||(s[25]=l("社群網站：")),i("img",{src:"https://www.google.com/s2/favicons?domain="+e.h.site2,title:"社群網址",alt:"個人網址"},null,8,Le),s[26]||(s[26]=i("i",{class:"right arrow icon"},null,-1))])])):t("",!0)]),i("div",Me,[s[30]||(s[30]=i("div",{class:"ui divider"},null,-1)),e.full?(n(),o("p",be,[i("span",{class:"text",innerHTML:e.highlight(e.h.note,e.mySearch)},null,8,we),s[29]||(s[29]=i("br",null,null,-1))])):(n(),o("p",Te,[i("span",{class:"text",innerHTML:e.highlight(e.part(e.h.note),e.mySearch)+"..."},null,8,He),s[28]||(s[28]=i("br",null,null,-1))]))])],8,X)),s[32]||(s[32]=i("div",{class:"filler"},null,-1)),e.h.latlngColumn?(n(),o("div",{key:2,class:y(["ui bottom attached stackable buttons",{vertical:!e.full||e.thin}])},[i("div",{class:"ui purple button",onClick:s[6]||(s[6]=h=>e.locate(e.h,!0))},s[31]||(s[31]=[i("i",{class:"map icon"},null,-1),l("查看地圖")]))],2)):t("",!0)])}const $e=v({name:"NameCard",mixins:[p],props:{h:{type:Object,required:!0},mySearch:{type:String,required:!1,default:()=>""},full:{type:Boolean,required:!1,default:()=>!1},uid:{type:String,required:!1,default:()=>""},clickable:{type:Boolean,required:!1,default:()=>!0}},emits:["locate","loginGoogle","toggleLogin"],data(){return{thin:window.innerWidth<720}},methods:{isEmail(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)},goto(e){!e.startsWith("http://")&&!e.startsWith("https://")&&(e="https://"+e),window.open(e)},locate:function(e,s){console.log(e),this.$emit("locate",e,s)},gotoMail(e){window.location.href=`mailto:${e}`},loginGoogle(e,s){this.$emit("loginGoogle",e,s)},toggleLogin(){this.$emit("toggleLogin")},copyFlagURL(e){if(!document.hasFocus()){alert("Document does not have focus, cannot copy link.");return}const s="https://we.alearn.org.tw/flag/"+e;navigator.clipboard.writeText(s).then(()=>{window.alert("已複製該名片")}).catch(a=>{console.error("無法複製該名片",a)}),this.$forceUpdate()}}}),qe=f($e,[["render",Se],["__scopeId","data-v-526e929d"]]);export{qe as C};
