import{m as p}from"./mix-O88PJOmL.js";import{j as n,d as o,A as g,I as m,f as i,h as l,t as r,i as t,N as d,n as y,B as k,_ as f,C as v}from"./index-C8wfvk15.js";const L={class:"hello"},M={class:"image"},T={class:"ui header"},H=["src"],b={key:0},w=["innerHTML"],S={key:1},$={key:2},C={key:3},c={class:"content"},A={class:"description gray"},B=["innerHTML"],D=["innerHTML"],q=["innerHTML"],N=["innerHTML"],E=["innerHTML"],I={key:0,class:"content"},U={key:0,class:"description"},G={key:1,class:"description"},R={key:2,class:"description"},V={class:"content"},W={key:0},j=["src"],F={key:1},z=["src"],O={class:"content"},J={key:0,class:"description"},K=["innerHTML"],P={key:1,class:"description"},Q=["innerHTML"],X=["to"],Y={class:"image"},Z={class:"ui header"},_=["src"],x={key:0},ss=["innerHTML"],es={key:1},is={key:2},ns={key:3},os={class:"content"},ts={class:"description gray"},ls=["innerHTML"],rs=["innerHTML"],hs=["innerHTML"],ds=["innerHTML"],as=["innerHTML"],us={key:0,class:"content"},ps={key:0,class:"description"},gs={key:1,class:"description"},ms={key:2,class:"description"},ys={class:"content"},ks={key:0},fs=["src"],vs={key:1},Ls=["src"],Ms={class:"content"},Ts={key:0,class:"description"},Hs=["innerHTML"],bs={key:1,class:"description"},ws=["innerHTML"];function Ss(s,e,a,Cs,cs,As){const u=k("router-link");return n(),o("div",L,[s.clickable?(n(),g(u,{key:0,to:"/flag/"+(s.h.uid||s.h.idx)},{default:m(()=>[i("div",M,[i("h3",T,[i("img",{class:"main",src:s.getIcon(s.h),alt:"^_^"},null,8,H),l(r(s.h.name),1),s.h.learner_birth?(n(),o("span",b,[e[7]||(e[7]=l("-")),i("span",{innerHTML:s.toAge(s.h.learner_birth)},null,8,w),e[8]||(e[8]=l("歲"))])):t("",!0),s.h.child_birth?(n(),o("span",S,"(孩子約")):t("",!0),s.h.child_birth2?(n(),o("span",$,r(s.toAge(s.h.child_birth2))+" ~",1)):t("",!0),s.h.child_birth?(n(),o("span",C,r(s.toAge(s.h.child_birth))+" 歲)",1)):t("",!0)])]),i("div",c,[i("p",A,[i("span",{innerHTML:s.highlight(s.h.address,s.mySearch)},null,8,B),l("   - "+r(s.countDateDiff(s.h.lastUpdate))+"已更新",1)]),s.h.learner_habit?(n(),o("p",{key:0,class:"description",innerHTML:"興趣："+s.highlight(s.h.learner_habit,s.mySearch)},null,8,D)):t("",!0),s.h.share?(n(),o("p",{key:1,class:"description",innerHTML:"可分享："+s.highlight(s.h.share,s.mySearch)},null,8,q)):t("",!0),s.h.ask?(n(),o("p",{key:2,class:"description",innerHTML:"想學習："+s.highlight(s.h.ask,s.mySearch)},null,8,N)):t("",!0),s.h.price?(n(),o("p",{key:3,class:"description",innerHTML:"可支付："+s.highlight(s.h.price,s.mySearch)},null,8,E)):t("",!0)]),s.h.connect_me&&s.full?(n(),o("div",I,[e[10]||(e[10]=i("div",{class:"ui divider"},null,-1)),s.isEmail(s.h.connect_me)?(n(),o("p",U,[e[9]||(e[9]=l("點擊寄信：")),i("a",{onClick:e[0]||(e[0]=d(h=>s.gotoMail(s.h.connect_me),["stop"]))},r(s.h.connect_me),1)])):(n(),o("p",G,"聯絡方式： "+r(s.h.connect_me),1)),s.h.freetime?(n(),o("p",R,"方便時間： "+r(s.h.freetime),1)):t("",!0)])):t("",!0),i("div",V,[e[15]||(e[15]=i("div",{class:"ui divider"},null,-1)),s.h.site?(n(),o("p",W,[i("a",{onClick:e[1]||(e[1]=d(h=>s.goto(s.h.site),["stop"]))},[e[11]||(e[11]=l("個人網站：")),i("img",{src:"https://www.google.com/s2/favicons?domain="+s.h.site,title:"個人網址",alt:"個人網址"},null,8,j),e[12]||(e[12]=i("i",{class:"right arrow icon"},null,-1))])])):t("",!0),s.h.site2?(n(),o("p",F,[i("a",{onClick:e[2]||(e[2]=d(h=>s.goto(s.h.site2),["stop"]))},[e[13]||(e[13]=l("社群網站：")),i("img",{src:"https://www.google.com/s2/favicons?domain="+s.h.site2,title:"社群網址",alt:"個人網址"},null,8,z),e[14]||(e[14]=i("i",{class:"right arrow icon"},null,-1))])])):t("",!0)]),i("div",O,[e[18]||(e[18]=i("div",{class:"ui divider"},null,-1)),s.full?(n(),o("p",P,[i("span",{class:"text",innerHTML:s.highlight(s.h.note,s.mySearch)},null,8,Q),e[17]||(e[17]=i("br",null,null,-1))])):(n(),o("p",J,[i("span",{class:"text",innerHTML:s.highlight(s.part(s.h.note),s.mySearch)+"..."},null,8,K),e[16]||(e[16]=i("br",null,null,-1))]))])]),_:1},8,["to"])):(n(),o("div",{key:1,to:"/flag/"+(s.h.uid||s.h.idx)},[i("div",Y,[i("h3",Z,[i("img",{class:"main",src:s.getIcon(s.h),alt:"^_^"},null,8,_),l(r(s.h.name),1),s.h.learner_birth?(n(),o("span",x,[e[19]||(e[19]=l("-")),i("span",{innerHTML:s.toAge(s.h.learner_birth)},null,8,ss),e[20]||(e[20]=l("歲"))])):t("",!0),s.h.child_birth?(n(),o("span",es,"(孩子約")):t("",!0),s.h.child_birth2?(n(),o("span",is,r(s.toAge(s.h.child_birth2))+" ~",1)):t("",!0),s.h.child_birth?(n(),o("span",ns,r(s.toAge(s.h.child_birth))+" 歲)",1)):t("",!0)])]),i("div",os,[i("p",ts,[i("span",{innerHTML:s.highlight(s.h.address,s.mySearch)},null,8,ls),l("   - "+r(s.countDateDiff(s.h.lastUpdate))+"已更新",1)]),s.h.learner_habit?(n(),o("p",{key:0,class:"description",innerHTML:"興趣："+s.highlight(s.h.learner_habit,s.mySearch)},null,8,rs)):t("",!0),s.h.share?(n(),o("p",{key:1,class:"description",innerHTML:"可分享："+s.highlight(s.h.share,s.mySearch)},null,8,hs)):t("",!0),s.h.ask?(n(),o("p",{key:2,class:"description",innerHTML:"想學習："+s.highlight(s.h.ask,s.mySearch)},null,8,ds)):t("",!0),s.h.price?(n(),o("p",{key:3,class:"description",innerHTML:"收費："+s.highlight(s.h.price,s.mySearch)},null,8,as)):t("",!0)]),s.h.connect_me&&s.full?(n(),o("div",us,[e[22]||(e[22]=i("div",{class:"ui divider"},null,-1)),s.isEmail(s.h.connect_me)?(n(),o("p",ps,[e[21]||(e[21]=l("點擊寄信：")),i("a",{onClick:e[3]||(e[3]=d(h=>s.gotoMail(s.h.connect_me),["stop"]))},r(s.h.connect_me),1)])):(n(),o("p",gs,"聯絡方式： "+r(s.h.connect_me),1)),s.h.freetime?(n(),o("p",ms,"方便時間： "+r(s.h.freetime),1)):t("",!0)])):t("",!0),i("div",ys,[e[27]||(e[27]=i("div",{class:"ui divider"},null,-1)),s.h.site?(n(),o("p",ks,[i("a",{onClick:e[4]||(e[4]=d(h=>s.goto(s.h.site),["stop"]))},[e[23]||(e[23]=l("個人網站：")),i("img",{src:"https://www.google.com/s2/favicons?domain="+s.h.site,title:"個人網址",alt:"個人網址"},null,8,fs),e[24]||(e[24]=i("i",{class:"right arrow icon"},null,-1))])])):t("",!0),s.h.site2?(n(),o("p",vs,[i("a",{onClick:e[5]||(e[5]=d(h=>s.goto(s.h.site2),["stop"]))},[e[25]||(e[25]=l("社群網站：")),i("img",{src:"https://www.google.com/s2/favicons?domain="+s.h.site2,title:"社群網址",alt:"個人網址"},null,8,Ls),e[26]||(e[26]=i("i",{class:"right arrow icon"},null,-1))])])):t("",!0)]),i("div",Ms,[e[30]||(e[30]=i("div",{class:"ui divider"},null,-1)),s.full?(n(),o("p",bs,[i("span",{class:"text",innerHTML:s.highlight(s.h.note,s.mySearch)},null,8,ws),e[29]||(e[29]=i("br",null,null,-1))])):(n(),o("p",Ts,[i("span",{class:"text",innerHTML:s.highlight(s.part(s.h.note),s.mySearch)+"..."},null,8,Hs),e[28]||(e[28]=i("br",null,null,-1))]))])],8,X)),e[32]||(e[32]=i("div",{class:"filler"},null,-1)),i("div",{class:y(["ui bottom attached stackable buttons",{vertical:!s.full||s.thin}])},[i("div",{class:"ui purple button",onClick:e[6]||(e[6]=h=>s.locate(s.h,!0))},e[31]||(e[31]=[i("i",{class:"map icon"},null,-1),l("查看地圖")]))],2)])}const $s=v({name:"NameCard",mixins:[p],props:{h:{type:Object,required:!0},mySearch:{type:String,required:!1,default:()=>""},full:{type:Boolean,required:!1,default:()=>!1},uid:{type:String,required:!1,default:()=>""},clickable:{type:Boolean,required:!1,default:()=>!0}},emits:["locate","loginGoogle","toggleLogin"],data(){return{thin:window.innerWidth<720}},methods:{isEmail(s){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s)},goto(s){!s.startsWith("http://")&&!s.startsWith("https://")&&(s="https://"+s),window.open(s)},locate:function(s,e){console.log(s),this.$emit("locate",s,e)},gotoMail(s){window.location.href=`mailto:${s}`},loginGoogle(s,e){this.$emit("loginGoogle",s,e)},toggleLogin(){this.$emit("toggleLogin")},copyFlagURL(s){if(!document.hasFocus()){alert("Document does not have focus, cannot copy link.");return}const e="https://we.alearn.org.tw/flag/"+s;navigator.clipboard.writeText(e).then(()=>{window.alert("已複製該名片")}).catch(a=>{console.error("無法複製該名片",a)}),this.$forceUpdate()}}}),qs=f($s,[["render",Ss],["__scopeId","data-v-b03f9342"]]);export{qs as C};
